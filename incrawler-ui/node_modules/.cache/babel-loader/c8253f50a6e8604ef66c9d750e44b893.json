{"remainingRequest":"D:\\Ex-Mimari\\incrawler\\incrawler-ui\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Ex-Mimari\\incrawler\\incrawler-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\Ex-Mimari\\incrawler\\incrawler-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Ex-Mimari\\incrawler\\incrawler-ui\\src\\utils\\KeycloakUtil.js","dependencies":[{"path":"D:\\Ex-Mimari\\incrawler\\incrawler-ui\\src\\utils\\KeycloakUtil.js","mtime":1614275531485},{"path":"D:\\Ex-Mimari\\incrawler\\incrawler-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Ex-Mimari\\incrawler\\incrawler-ui\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Ex-Mimari\\incrawler\\incrawler-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Ex-Mimari\\incrawler\\incrawler-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgS2V5Y2xvYWsgZnJvbSAia2V5Y2xvYWstanMiOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIi4vZXZlbnQtYnVzIjsKdmFyIGluc3RhbmNlOwpleHBvcnQgdmFyIGdldEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0SW5zdGFuY2UoKSB7CiAgcmV0dXJuIGluc3RhbmNlOwp9OwpleHBvcnQgdmFyIGF1dGhLZXljbG9hayA9IGZ1bmN0aW9uIGF1dGhLZXljbG9hayhfcmVmKSB7CiAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmKTsKICBpZiAoaW5zdGFuY2UpIHJldHVybiBpbnN0YW5jZTsKICBpbnN0YW5jZSA9IG5ldyBWdWUoewogICAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdGhpcy5rZXljbG9hayA9IEtleWNsb2FrKHRoaXMuY29uZmlnKTsKCiAgICAgIHRoaXMua2V5Y2xvYWsub25SZWFkeSA9IGZ1bmN0aW9uIChhdXRoZW50aWNhdGVkKSB7CiAgICAgICAgb25SZWFkeShhdXRoZW50aWNhdGVkKTsKICAgICAgfTsKCiAgICAgIHRoaXMua2V5Y2xvYWsub25BdXRoU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBvbkF1dGhTdWNjZXNzKCk7CiAgICAgIH07CgogICAgICB0aGlzLmtleWNsb2FrLm9uQXV0aEVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIG9uQXV0aEVycm9yKCk7CiAgICAgIH07CgogICAgICB0aGlzLmtleWNsb2FrLm9uQXV0aFJlZnJlc2hTdWNjZXNzID0gZnVuY3Rpb24gKCkgewogICAgICAgIG9uQXV0aFJlZnJlc2hTdWNjZXNzKCk7CiAgICAgIH07CgogICAgICB0aGlzLmtleWNsb2FrLm9uQXV0aFJlZnJlc2hFcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBvbkF1dGhSZWZyZXNoRXJyb3IoKTsKICAgICAgfTsKCiAgICAgIHRoaXMua2V5Y2xvYWsub25BdXRoTG9nb3V0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIG9uQXV0aExvZ291dCgpOwogICAgICB9OwoKICAgICAgdGhpcy5rZXljbG9hay5vblRva2VuRXhwaXJlZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBvblRva2VuRXhwaXJlZCgpOwogICAgICB9OwogICAgfSwKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29uZmlnOiB7CiAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLAogICAgICAgICAgcmVhbG06IG9wdGlvbnMucmVhbG0sCiAgICAgICAgICBjbGllbnRJZDogb3B0aW9ucy5jbGllbnRJZAogICAgICAgIH0sCiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwKICAgICAgICB1c2VyOiB7fQogICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAgIF9sb2dpbigpOwogICAgICB9LAogICAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgICBfbG9nb3V0KCk7CiAgICAgIH0sCiAgICAgIGdldFVzZXJOYW1lOiBmdW5jdGlvbiBnZXRVc2VyTmFtZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5rZXljbG9hay50b2tlblBhcnNlZC5naXZlbl9uYW1lOwogICAgICB9LAogICAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKCkgewogICAgICAgIHJldHVybiB0aGlzLmlzQXV0aGVudGljYXRlZDsKICAgICAgfSwKICAgICAgZ2V0QmVhcmVyVG9rZW46IGZ1bmN0aW9uIGdldEJlYXJlclRva2VuKCkgewogICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShLRVlDTE9BS19UT0tFTl9DT05TVEFOVCk7CiAgICAgIH0sCiAgICAgIGhhc1JvbGU6IGZ1bmN0aW9uIGhhc1JvbGUocm9sZSkgewogICAgICAgIHJldHVybiB0aGlzLmtleWNsb2FrLmhhc1Jlc291cmNlUm9sZShyb2xlKTsKICAgICAgfQogICAgfQogIH0pOwp9OwoKZnVuY3Rpb24gX2xvZ291dCgpIHsKICBWdWUuJGxvZy5kZWJ1ZygiU2lnbmluZyBvdXQuLi4iKTsKICBpbnN0YW5jZS5rZXljbG9hay5sb2dvdXQoewogICAgcmVkaXJlY3RVcmk6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4KICB9KTsKICBWdWUuJGxvZy5kZWJ1ZygiU2lnbmVkIG91dC4iKTsKfQoKdmFyIEtFWUNMT0FLX1RPS0VOX0NPTlNUQU5UID0gIktFWUNMT0FLX1RPS0VOIjsKCmZ1bmN0aW9uIG9uQXV0aFN1Y2Nlc3MoKSB7CiAgY29uc29sZS5sb2coIm9uQXV0aFN1Y2Nlc3MiKTsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShLRVlDTE9BS19UT0tFTl9DT05TVEFOVCwgaW5zdGFuY2Uua2V5Y2xvYWsudG9rZW4pOwogIEV2ZW50QnVzLiRlbWl0KCJvbkF1dGhTdGF0dXNVcGRhdGUiLCB0cnVlKTsKfQoKZnVuY3Rpb24gb25SZWFkeShhdXRoZW50aWNhdGVkKSB7CiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgaW5zdGFuY2Uua2V5Y2xvYWsudXBkYXRlVG9rZW4oMzYwMCkudGhlbihmdW5jdGlvbiAocmVmcmVzaGVkKSB7CiAgICAgIGlmIChyZWZyZXNoZWQpIHsKICAgICAgICBWdWUuJGxvZy5kZWJ1ZygiVG9rZW4gcmVmcmVzaGVkIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgVnVlLiRsb2cud2FybigiVG9rZW4gbm90IHJlZnJlc2hlZCwgdmFsaWQgZm9yICIgKyBNYXRoLnJvdW5kKGluc3RhbmNlLmtleWNsb2FrLnRva2VuUGFyc2VkLmV4cCArIGluc3RhbmNlLmtleWNsb2FrLnRpbWVTa2V3IC0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSArICIgc2Vjb25kcyIpOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIFZ1ZS4kbG9nLmVycm9yKCJGYWlsZWQgdG8gcmVmcmVzaCB0b2tlbiIpOwogICAgfSk7CiAgfSwgNjAwMDApOwogIEV2ZW50QnVzLiRlbWl0KCJvbkF1dGhTdGF0dXNVcGRhdGUiLCBhdXRoZW50aWNhdGVkKTsKICBjb25zb2xlLmxvZygib25SZWFkeSA9PiBhdXRoZW50aWNhdGVkIDogIiArIGF1dGhlbnRpY2F0ZWQpOwp9CgpmdW5jdGlvbiBvbkF1dGhFcnJvcigpIHsKICBjb25zb2xlLmxvZygib25BdXRoRXJyb3IiKTsKICBFdmVudEJ1cy4kZW1pdCgib25BdXRoU3RhdHVzVXBkYXRlIiwgZmFsc2UpOwp9CgpmdW5jdGlvbiBvbkF1dGhSZWZyZXNoU3VjY2VzcygpIHsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShLRVlDTE9BS19UT0tFTl9DT05TVEFOVCwgaW5zdGFuY2Uua2V5Y2xvYWsudG9rZW4pOwogIGNvbnNvbGUubG9nKCJvbkF1dGhSZWZyZXNoU3VjY2VzcyIpOwp9CgpmdW5jdGlvbiBvbkF1dGhSZWZyZXNoRXJyb3IoKSB7CiAgY29uc29sZS5sb2coIm9uQXV0aFJlZnJlc2hFcnJvciIpOwp9CgpmdW5jdGlvbiBvbkF1dGhMb2dvdXQoKSB7CiAgY29uc29sZS5sb2coIm9uQXV0aExvZ291dCIpOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEtFWUNMT0FLX1RPS0VOX0NPTlNUQU5ULCBudWxsKTsKICBFdmVudEJ1cy4kZW1pdCgib25BdXRoU3RhdHVzVXBkYXRlIiwgZmFsc2UpOwp9CgpmdW5jdGlvbiBvblRva2VuRXhwaXJlZCgpIHsKICBjb25zb2xlLmxvZygib25Ub2tlbkV4cGlyZWQiKTsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShLRVlDTE9BS19UT0tFTl9DT05TVEFOVCwgbnVsbCk7CiAgRXZlbnRCdXMuJGVtaXQoIm9uQXV0aFN0YXR1c1VwZGF0ZSIsIGZhbHNlKTsKfQoKZnVuY3Rpb24gX2xvZ2luKCkgewogIGluc3RhbmNlLmtleWNsb2FrLmluaXQoewogICAgb25Mb2FkOiAibG9naW4tcmVxdWlyZWQiCiAgfSkudGhlbihmdW5jdGlvbiAoYXV0aCkgewogICAgaW5zdGFuY2UuaXNBdXRoZW50aWNhdGVkID0gYXV0aDsKCiAgICBpZiAoYXV0aCkgewogICAgICBjb25zb2xlLmxvZygiYXV0aGVudGljYXRlZCIpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coIm5vIGF1dGhlbnRpY2F0aW9uIik7CiAgICB9CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgIGNvbnNvbGUubG9nKCJsb2dpbiBoYXRhIDogIiArIGUpOwogICAgVnVlLiRsb2cuZXJyb3IoIkF1dGhlbnRpY2F0ZWQgRmFpbGVkIik7CiAgfSk7Cn0KCmV4cG9ydCB2YXIga2V5Y2xvYWtVdGlsID0gewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlLCBvcHRpb25zKSB7CiAgICBWdWUucHJvdG90eXBlLiRrZXljbG9hayA9IGF1dGhLZXljbG9hayhvcHRpb25zKTsKICB9Cn07"},{"version":3,"sources":["D:/Ex-Mimari/incrawler/incrawler-ui/src/utils/KeycloakUtil.js"],"names":["Vue","Keycloak","EventBus","instance","getInstance","authKeycloak","options","created","keycloak","config","onReady","authenticated","onAuthSuccess","onAuthError","onAuthRefreshSuccess","onAuthRefreshError","onAuthLogout","onTokenExpired","data","url","realm","clientId","isAuthenticated","user","methods","login","logout","getUserName","tokenParsed","given_name","isLoggedIn","getBearerToken","localStorage","getItem","KEYCLOAK_TOKEN_CONSTANT","hasRole","role","hasResourceRole","$log","debug","redirectUri","window","location","origin","console","log","setItem","token","$emit","setInterval","updateToken","then","refreshed","warn","Math","round","exp","timeSkew","Date","getTime","catch","error","init","onLoad","auth","e","keycloakUtil","install","prototype","$keycloak"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\r\nimport Keycloak from \"keycloak-js\";\r\nimport {EventBus} from \"./event-bus\";\r\n\r\nlet instance;\r\n\r\nexport const getInstance = () => instance;\r\n\r\nexport const authKeycloak = ({...options}) => {\r\n    if (instance) return instance;\r\n\r\n    instance = new Vue({\r\n        created() {\r\n            this.keycloak = Keycloak(this.config);\r\n            this.keycloak.onReady = function (authenticated) {\r\n                onReady(authenticated);\r\n            };\r\n            this.keycloak.onAuthSuccess = function () {\r\n                onAuthSuccess();\r\n            };\r\n            this.keycloak.onAuthError = function () {\r\n                onAuthError();\r\n            };\r\n            this.keycloak.onAuthRefreshSuccess = function () {\r\n                onAuthRefreshSuccess();\r\n            };\r\n            this.keycloak.onAuthRefreshError = function () {\r\n                onAuthRefreshError();\r\n            };\r\n            this.keycloak.onAuthLogout = function () {\r\n                onAuthLogout();\r\n            };\r\n            this.keycloak.onTokenExpired = function () {\r\n                onTokenExpired();\r\n            };\r\n        },\r\n        data() {\r\n            return {\r\n                config: {\r\n                    url: options.url,\r\n                    realm: options.realm,\r\n                    clientId: options.clientId,\r\n                },\r\n                isAuthenticated: false,\r\n                user: {},\r\n            };\r\n        },\r\n        methods: {\r\n            login() {\r\n                login();\r\n            },\r\n            logout() {\r\n                logout();\r\n            },\r\n            getUserName() {\r\n                return this.keycloak.tokenParsed.given_name;\r\n            },\r\n            isLoggedIn() {\r\n                return this.isAuthenticated;\r\n            },\r\n            getBearerToken() {\r\n                return localStorage.getItem(KEYCLOAK_TOKEN_CONSTANT);\r\n            },\r\n            hasRole(role){\r\n                return this.keycloak.hasResourceRole(role);\r\n            }\r\n        },\r\n    });\r\n};\r\n\r\nfunction logout() {\r\n    Vue.$log.debug(\"Signing out...\");\r\n    instance.keycloak.logout({redirectUri: window.location.origin});\r\n    Vue.$log.debug(\"Signed out.\");\r\n}\r\n\r\nconst KEYCLOAK_TOKEN_CONSTANT = \"KEYCLOAK_TOKEN\";\r\n\r\nfunction onAuthSuccess() {\r\n    console.log(\"onAuthSuccess\");\r\n    localStorage.setItem(KEYCLOAK_TOKEN_CONSTANT, instance.keycloak.token)\r\n    EventBus.$emit(\"onAuthStatusUpdate\", true);\r\n}\r\n\r\nfunction onReady(authenticated) {\r\n    setInterval(() => {\r\n        instance.keycloak\r\n            .updateToken(3600)\r\n            .then((refreshed) => {\r\n                if (refreshed) {\r\n                    Vue.$log.debug(\"Token refreshed\");\r\n                } else {\r\n                    Vue.$log.warn(\r\n                        \"Token not refreshed, valid for \" +\r\n                        Math.round(\r\n                            instance.keycloak.tokenParsed.exp +\r\n                            instance.keycloak.timeSkew -\r\n                            new Date().getTime() / 1000\r\n                        ) +\r\n                        \" seconds\"\r\n                    );\r\n                }\r\n            })\r\n            .catch(() => {\r\n                Vue.$log.error(\"Failed to refresh token\");\r\n            });\r\n    }, 60000);\r\n    EventBus.$emit(\"onAuthStatusUpdate\", authenticated);\r\n    console.log(\"onReady => authenticated : \" + authenticated);\r\n}\r\n\r\nfunction onAuthError() {\r\n    console.log(\"onAuthError\");\r\n    EventBus.$emit(\"onAuthStatusUpdate\", false);\r\n}\r\n\r\nfunction onAuthRefreshSuccess() {\r\n    localStorage.setItem(KEYCLOAK_TOKEN_CONSTANT, instance.keycloak.token)\r\n    console.log(\"onAuthRefreshSuccess\");\r\n}\r\n\r\nfunction onAuthRefreshError() {\r\n    console.log(\"onAuthRefreshError\");\r\n}\r\n\r\nfunction onAuthLogout() {\r\n    console.log(\"onAuthLogout\");\r\n    localStorage.setItem(KEYCLOAK_TOKEN_CONSTANT, null)\r\n    EventBus.$emit(\"onAuthStatusUpdate\", false);\r\n}\r\n\r\nfunction onTokenExpired() {\r\n    console.log(\"onTokenExpired\");\r\n    localStorage.setItem(KEYCLOAK_TOKEN_CONSTANT, null)\r\n    EventBus.$emit(\"onAuthStatusUpdate\", false);\r\n}\r\n\r\nfunction login() {\r\n    instance.keycloak\r\n        .init({onLoad: \"login-required\"})\r\n        .then((auth) => {\r\n            instance.isAuthenticated = auth;\r\n\r\n            if (auth) {\r\n                console.log(\"authenticated\");\r\n            } else {\r\n                console.log(\"no authentication\");\r\n            }\r\n        })\r\n        .catch((e) => {\r\n            console.log(\"login hata : \" + e);\r\n            Vue.$log.error(\"Authenticated Failed\");\r\n        });\r\n}\r\n\r\n\r\nexport const keycloakUtil = {\r\n    install(Vue, options) {\r\n        Vue.prototype.$keycloak = authKeycloak(options);\r\n    },\r\n};\r\n"]}]}